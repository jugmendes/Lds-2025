<div class="base-form">
    <form class="form mat-elevation-z4" [formGroup]="form">
        <h2 class="text-center">Crie sua conta!</h2>
        <mat-form-field>
            <mat-label>Nome completo</mat-label>
            <input matInput placeholder="Nome completo" formControlName="fullname">
            <mat-error ngIf="form.controls.fullname.hasError('required)">
                <p>Campo obrigatório</p>
            </mat-error>

            @if(form.controls['fullname'].hasError('minlenght')){
                <p class="text-danger">
                    Nome deve ter no mínimo {{fullnameMinLenght}} caracteres.

                </p>
            }
            @else if (form.controls['fullname'].hasError('maxlenght')) {
                <p class="text-danger">
                    Nome deve ter no máximo {{fullnameMaxLenght}} caracteres.
                </p>
            }
            
        </mat-form-field>

        <mat-form-field>
            <mat-label>Email</mat-label>
            <input placeholder="Email" required="" formControlName="email">

            <mat-error ngIf="form.controls.email.hasError('required')">
                Campo obrigatório
            </mat-error>

            @if (form.controls['email'].hasError('email')) {
                <p>Email Inválido</p>
            }

        </mat-form-field>

        <mat-form-field>
            <mat-label>Senha</mat-label>
            <input matInput="password" placeholder="Senha" formControlName="password" maxlength="10">

            <mat-error ngIf="form.controls.password.hasError('required')">
                Campo obrigatório
            </mat-error>
            @if (form.controls['password'].hasError('minLenght')) {
                <p>Senha deve ter no mínimo {{passwordMinLenght}}</p>
            }
            @else if(form.controls['password'].hasError('maxLenght')){
                <p>Senha deve ter no máximo {{passwordMaxLenght}} caracteres</p>
            }
        </mat-form-field>

        <mat-form-field>
            <mat-label>Repita a senha</mat-label>
            <input matInput="password" placeholder="Senha" formControlName="repeatPassword">

            <mat-error ngIf="form.controls.repeatPassword.hasError('required')">
                Campo obrigatório
            </mat-error>

            @if (form.controls['repeatPassword'].hasError('minLenght')){
                <p class="text-danger">Senha deve ter no mínimo {{passwordMinLenght}} caracteres</p>
            }
            @else if (form.controls['repeatPassword'].hasError('maxLenght')) {
                <p class="text-danger">Senha deve ter no máximo {{passwordMaxLenght}} caracteres</p>
            }
            @else if (!arePasswordsValid()) {
                <p class="text-danger">As senhas não são iguais</p>
            }

        </mat-form-field>

        <div class="text-center">
            <button mat-raised-button color="primary">Criar</button>
        </div>
        <router-outlet></router-outlet>
        <hr>
        <div class="mt-4">
            <p>Já possui uma conta? <a href="account/sign-in">Clique aqui</a> para entrar agora mesmo!</p>
        </div>
    </form>
</div>